/*
 * Copyright Linux Kernel Team
 *
 * SPDX-License-Identifier: GPL-2.0-only
 *
 * This file is derived from an intermediate build stage of the
 * Linux kernel. The licenses of all input files to this process
 * are compatible with GPL-2.0-only.
 */

/dts-v1/;

/ {
    #address-cells = <0x02>;
    model = "Raspberry Pi 4 Model B";
    #size-cells = <0x01>;
    interrupt-parent = <0x01>;
    compatible = "raspberrypi,4-model-b\0brcm,bcm2711";

    memory {
        device_type = "memory";
        reg = <0x00 0x50000000 0x10000000>; // 256MB
    };
    
    psci {
        compatible = "arm,psci-1.0";
        method = "smc";
        cpu_off = <0x84000002>;
        cpu_on = <0xc4000003>;
        cpu_suspend = <0xc4000001>;
        status = "okay";
    };
    
    cpus {
        #address-cells = <0x01>;
        #size-cells = <0x00>;
        
        cpu@0 {
            device_type = "cpu";
            compatible = "arm,cortex-a72";
            reg = <0x00>;
            enable-method = "psci";
        };
        cpu@1 {
            device_type = "cpu";
            compatible = "arm,cortex-a72";
            reg = <0x01>;
            enable-method = "psci";
        };
        cpu@2 {
            device_type = "cpu";
            compatible = "arm,cortex-a72";
            reg = <0x02>;
            enable-method = "psci";
        };
        
        cpu@3 {
            device_type = "cpu";
            compatible = "arm,cortex-a72";
            reg = <0x03>;
            enable-method = "psci";
        };
    };

    soc {
        dma-ranges = <0xc0000000 0x00 0x00 0x40000000>;
        #address-cells = <0x01>;
        #size-cells = <0x01>;
        compatible = "simple-bus";
        ranges = <0x7e000000 0x00 
                  0xfe000000 0x1800000 
                  0x7c000000 0x00 
                  0xfc000000 0x2000000 
                  0x40000000 0x00 
                  0xff800000 0x800000>;

        interrupt-controller@40041000 {
            interrupts = <0x01 0x09 0xf04>;
            compatible = "arm,gic-400";
            #interrupt-cells = <0x03>;
            reg = <0x40041000 0x1000 
                   0x40042000 0x2000 
                   0x40044000 0x2000 
                   0x40046000 0x2000>;
            phandle = <0x01>;
            interrupt-controller;
        };
    };

    timer {
        arm,cpu-registers-not-fw-configured;
        compatible = "arm,armv8-timer";
        interrupts = <0x01 0x0d 0xf08 0x01 0x0e 0xf08 0x01 0x0b 0xf08 0x01 0x0a 0xf08>;
    };
    
    pci {
        #address-cells = <0x03>;
        #size-cells = <0x02>;
        #interrupt-cells = <0x01>;
        dma-coherent;
        bus-range = <0x00 0x01>;
        device_type = "pci";
        compatible = "pci-host-cam-generic";
        ranges = <0x01000000 0x00 0x01000000 0x01 0x01000000 0x00 0x10000
                  0x02000000 0x00 0x02000000 0x01 0x02000000 0x00 0x1000000>;
        
        reg = <0x01 0x00000000 0x1000000>;
        
        interrupt-map = <0x800 0x00 0x00 0x01 0x01 0x00 0x28 0x04>;
        interrupt-map-mask = <0xf800 0x00 0x00 0x07>;
    };
    
    chosen {
        linux,initrd-end = <0x00 0x5d5b50f9>;
        linux,initrd-start = <0x00 0x5d000000>;
        stdout-path = "hvc0";
        bootargs = "console=hvc0 earlyprintk root=/dev/ram0 rw nosmp debug loglevel=7 pci=nomsi initcall_debug";
        linux,stdout-path = "hvc0";
    };
};
